<html>
<head>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <script src="build.js"></script>
  <script>
    var app = Elm.Main.fullscreen();
    app.ports.playAt.subscribe(function(stuff){
      elementClass = stuff[0]
      offset = stuff[1]

      var toPause = Array.prototype.slice.call(document.getElementsByTagName('audio'));
      var audioEl = Array.prototype.slice.call(document.getElementsByClassName(elementClass));
      if (audioEl.length !== 1){
        throw Error("Can't find audio element with class name: "+elementClass);
      }
      toPause.forEach(function(x){x.pause();});
      audioEl[0].currentTime = offset;
      audioEl[0].play();
      console.log(offset);
    });
  </script>
</body>
</html>
